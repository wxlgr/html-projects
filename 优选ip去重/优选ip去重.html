<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼˜é€‰ipå»é‡</title>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Toast</title>
    <style>
        #toast {
            visibility: hidden;
            min-width: 250px;
            margin-left: -125px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 2px;
            padding: 16px;
            position: fixed;
            z-index: 1;
            left: 50%;
            bottom: 30px;
            font-size: 17px;
        }

        #toast.show {
            visibility: visible;
            -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
            animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }

        @-webkit-keyframes fadein {
            from {
                bottom: 0;
                opacity: 0;
            }
            to {
                bottom: 30px;
                opacity: 1;
            }
        }

        @keyframes fadein {
            from {
                bottom: 0;
                opacity: 0;
            }
            to {
                bottom: 30px;
                opacity: 1;
            }
        }

        @-webkit-keyframes fadeout {
            from {
                bottom: 30px;
                opacity: 1;
            }
            to {
                bottom: 0;
                opacity: 0;
            }
        }

        @keyframes fadeout {
            from {
                bottom: 30px;
                opacity: 1;
            }
            to {
                bottom: 0;
                opacity: 0;
            }
        }
    </style>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
        }

        h2,h6 {
            color: #333;
            margin: 5px;
        }

        #inputContainer {
            margin-top: 10px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #666;
        }

        textarea,
        #output {
            width: 800px;
            height: 300px;
            box-sizing: border-box;
            padding:8px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 12px;
        }

        button {
            margin-top: 10px;
            padding: 10px 10px;
            font-size: 14px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
        }

        button:hover {
            background-color: #45a049;
        }

        #output {
            margin-top: 5px;
            background-color: #fff;
            color: #333;
        }

        #copyright {
            margin-top: 10px;
            color: #666;
            font-size: 12px;
        }
    </style>
</head>

<body>
    <h2>ä¼˜é€‰ipå»é‡  ä»…å¯¹#ä¹‹å‰å­—ç¬¦æ¯”å¯¹</h2>
    <h6>â—ğŸ˜œçº¯jsè½¬æ¢ï¼Œè¿˜æœ‰ç–‘è™‘å¯ä»¥ä¿å­˜æºä»£ç æœ¬åœ°è¿è¡Œ</h6>
    <h3>ä¼˜é€‰ipæº:</h3>
    <div id="inputContainer">
        <textarea id="txtInput" rows="10" cols="80"></textarea>
    </div>
    <button onclick="init()">åˆå§‹åŒ–æ¼”ç¤ºæ•°æ®</button>
    <button onclick="transform()">å¼€å§‹å»é‡</button>
    <button onclick="clearScreen()">æ¸…é™¤å±å¹•</button>
    <button onclick="copyContent()">æ‹·è´ç»“æœ</button>
    <button onclick="saveAsTXT()">ä¿å­˜txt</button>
    <h3>å»é‡ç»“æœ:</h3>
    <textarea id="output" rows="10" cols="80" readonly></textarea>
    <div id="copyright">
        <p>Â© 2025 xxx All Rights Reserved.</p>
    </div>
    <div id="toast"></div>
    <script>
        function showToast(message) {
            const toast = document.getElementById("toast");
            toast.innerHTML = message;
            toast.className = "show";
            setTimeout(function () {
                toast.className = toast.className.replace("show", "");
            }, 3000);
        }
        function init() {
            let txt = `
                portal.cloudflarepartners.com#CFå®¶çš„ã€æ¨èã€‘,
                support.cloudflarewarp.com#CFå®¶çš„ã€æ¨è1-1-1-1ã€‘,
                developers.cloudflare.com#CFå®¶çš„ã€æ¨èã€‘,
                workers.cloudflare.com#CFå®¶çš„ã€æ¨èã€‘workers.cloudflare.com,
                pages.cloudflare.com#CFå®¶çš„pages.cloudflare.com,
                ns.cloudflare.com#CFå®¶çš„ã€æ¨èã€‘ns.cloudflare.com,

                162.159.133.144#ä¼˜é€‰ip é¦™æ¸¯1 ipv6,
                162.159.143.4#ä¼˜é€‰ip  é¦™æ¸¯2 ipv6,
                162.159.133.144#ä¼˜é€‰ip é¦™æ¸¯1 ipv6,

                time.is
                ip.sb
                fbi.gov

                support.cloudflare.com
                workers.cloudflare.com
                support.cloudflarewarp.com
                portal.cloudflarepartners.com
                developers.cloudflare.com
            `;

            document.getElementById('txtInput').value = txt;
        }

        function transform() {
            const txtInput = document.getElementById('txtInput').value;
            const lines = txtInput.split('\n');
            let currentGroup = null;
            let set = new Set();
            let allipsLen = 0;
            let obj = {}
           let  result = ''
            for (const line of lines) {
                let arr =line.trim().split('#')
                let ip = arr[0]
                let nameDesc = arr.slice(1)  
                if (ip) {
                    allipsLen++;
                    result+=ip+(nameDesc.length?'#':'')+nameDesc+'\n'
                    if (!set.has(ip)) {
                        set.add(ip)
                    } else {
                        obj[ip] = obj[ip] ? obj[ip] + 1 : 1
                    }
                }
            }
            console.log('å»é‡åèŠ‚ç‚¹\r',result);
            console.log('å·²å»é™¤é‡å¤èŠ‚ç‚¹è¯¦æƒ…',obj);
            showToast(`å…±${allipsLen}ä¸ªä¼˜é€‰ipï¼Œå»é‡å${set.size}ä¸ªèŠ‚ç‚¹ï¼Œè¯¦æƒ…è§æ§åˆ¶å°`)
              document.getElementById('output').value = result;
        }
        function clearScreen() {
            document.getElementById('txtInput').value = '';
            document.getElementById('output').value = '';
        }
        function copyContent() {
            const output = document.getElementById('output');
            if(!output.value){
                return alert('è¯·å…ˆè½¬åŒ–å»é‡')
            }
            output.select();
            document.execCommand('copy');
            showToast('å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
        }
        function saveAsTXT() {
            if(!output.value){
                return alert('è¯·å…ˆè½¬åŒ–å»é‡')
            }
            const content = document.getElementById('output').value;
            const blob = new Blob([content], { type: 'text/plain' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'ä¼˜é€‰ipå»é‡.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }


    </script>
</body>

</html>